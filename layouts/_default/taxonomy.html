{{- define "main" -}}
{{- $paginator := .Paginate (.Pages.ByTitle) -}}

{{- $title := T .Title -}}
{{- if not $title -}}
{{- $title = .Title -}}
{{- end -}}

{{- $term := T .Parent.Title -}}
{{- if not $term -}}
{{- $term = .Parent.Title -}}
{{- end -}}

<section class="taxonomy-page-header">
  <h1>{{- $term -}}:&nbsp
    <span class="taxonomy-page-tag">
      {{- $title -}}
    </span>
  </h1>
</section>

<div class="taxonomy-page-content">

  {{- if .Content -}}
  <article class="article markdown-body">
    <!-- "{{.Content}}" pulls from the markdown content of the corresponding _index.md -->
    {{- .Content -}}
  </article>
  {{- end -}}

  <!-- Ranges through content/posts/*.md -->
  {{- partial "note-list.html" $paginator -}}
  {{- partial "pagination.html" $paginator -}}

</div>
{{- end -}}
